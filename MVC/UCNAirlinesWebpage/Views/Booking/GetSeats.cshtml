@using UCNAirlinesWebpage.Models
@model SeatPassenger

@{
    ViewData["Title"] = "Seats";
}
<style>
    .form-seat-container {
    display: flex;
    gap: 40px;
    align-items: flex-start;
    justify-content: center;
    margin-bottom: 20px;
    }

    .form-fields {
    display: flex;
    flex-direction: column;
    gap: 10px;
    max-width: 300px;
    }

    .seat-map {
    display: flex;
    flex-direction: column;
    gap: 10px;
    }

    .seat.row {
    display: flex;
    gap: 10px;
    }

    .seat-gap {
    display: inline-block;
    width: 30px;
    }

    .seat {
    width: 40px;
    height: 40px;
    background-color: lightgray;
    border: none;
    border-radius: 3px;
    font-weight: bold;
    cursor: pointer;
    }

    .seat.selected {
    background-color: green;
    color: white;
    }

    .submit-container {
    text-align: center
    }

</style>
<div>@Model.Flight.FlightId</div>
<div>@Model.Flight.Airplane</div>
<div>@Model.passengerCount</div>
<div>@Model.Pass</div>
<div class="text-center">
    <h1 class="display-4">Select a seat</h1>
</div>

<br />
<br />
<form method="post" asp-controller="Booking" asp-action="Pain">
    @for (int i = 0; i < Model.passengerCount; i++) 
    {
        <div class="form-seat-container" >
            <div>
                <div class="form-group">
                    <label for="FirstName">First Name:</label><br />
                    <input type="text" id="FirstName" name="Passengers[@i].FirstName" class="form-control" />
                </div>

                <div class="form-group">
                    <label for="LastName">Last Name:</label><br />
                    <input type="text" id="LastName" name="Passengers[@i].LastName" class="form-control" />
                </div>

                <br />

                <div class="submit-container">

                    <button type="submit" onclick="()">Tilføj passenger </button>


                    
                </div>
            </div>
            <div>
            @foreach(Seat seat in Model.Seats)
            {

                <button>@seat.SeatName
                    <input type="hidden" name="seatId" value="@seat.SeatId" />
                    </button>
            }

            </div>
            </div>
    }
  </form>

@* <script>
    // Find alle sædeknapper
    const seatButtons = document.querySelectorAll('.seat');

    seatButtons.forEach(button => {
        button.addEventListener('click', () => {
            // Fjern 'selected' fra alle andre sæder
            seatButtons.forEach(btn => btn.classList.remove('selected'));

            // Tilføj 'selected' til det valgte sæde    
            button.classList.add('selected');
        });
    });
</script> *@
<script>
    function AddPassengertoCookie() {
        const nameInput = document.getElementById('FirstName');
        const nameValue = encodeURIComponent(nameInput.value);
        document.cookie = "FirstName=" + nameValue + "; path=/";
    }
</script>

